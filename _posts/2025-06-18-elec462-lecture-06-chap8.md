---
title: elec462-lecture-06-chap8
author: khw
date: 2025-06-18
categories: [Exam, SystemProgramming]
tags: [2025_first_semester_final_exam]
pin: true
math: true
mermaid: true
---

# ELEC462 Chapter 8: í”„ë¡œì„¸ìŠ¤ì™€ í”„ë¡œê·¸ë¨ - Shell êµ¬í˜„í•˜ê¸°

## ğŸ“š í•™ìŠµ ëª©í‘œ

### í•µì‹¬ ê°œë…ê³¼ ê¸°ìˆ 
- **Linux Shellì˜ ë™ì‘ ì›ë¦¬** ì´í•´
- **í”„ë¡œì„¸ìŠ¤ ëª¨ë¸** ê°œë… ìŠµë“
- **í”„ë¡œê·¸ë¨ ì‹¤í–‰** ë©”ì»¤ë‹ˆì¦˜ í•™ìŠµ
- **í”„ë¡œì„¸ìŠ¤ ìƒì„±** ë°©ë²• ì´í•´
- **ë¶€ëª¨-ìì‹ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ** ë°©ë²• í•™ìŠµ

### ì¤‘ìš” ì‹œìŠ¤í…œ ì½œ
- `fork()` - í”„ë¡œì„¸ìŠ¤ ìƒì„±
- `exec()` - í”„ë¡œê·¸ë¨ ì‹¤í–‰
- `wait()` - ìì‹ í”„ë¡œì„¸ìŠ¤ ëŒ€ê¸°
- `exit()` - í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

---

## ğŸ—ï¸ í”„ë¡œì„¸ìŠ¤ vs í”„ë¡œê·¸ë¨

### í”„ë¡œê·¸ë¨ (Program/Executable)
```
í”„ë¡œê·¸ë¨ = íŒŒì¼ì— ì €ì¥ëœ ê¸°ê³„ì–´ ëª…ë ¹ì–´ë“¤ì˜ ì§‘í•©
```
- ë””ìŠ¤í¬ì— ì €ì¥ëœ ì •ì ì¸ ì½”ë“œ
- ì†ŒìŠ¤ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ì—¬ ìƒì„±ëœ ë°”ì´ë„ˆë¦¬

### í”„ë¡œì„¸ìŠ¤ (Process)
```
í”„ë¡œì„¸ìŠ¤ = ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨ì˜ ì¸ìŠ¤í„´ìŠ¤
```
- **ë©”ëª¨ë¦¬ ê³µê°„** + **ë™ì  ì„¤ì •**ìœ¼ë¡œ êµ¬ì„±
- ê° í”„ë¡œì„¸ìŠ¤ëŠ” ê³ ìœ í•œ **PID(Process ID)** ë³´ìœ 
- ë…ë¦½ì ì¸ ë©”ëª¨ë¦¬ ì£¼ì†Œ ê³µê°„ ì‚¬ìš©

### ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ
```
ê³ ì£¼ì†Œ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  argc, argv â”‚  ëª…ë ¹í–‰ ì¸ìˆ˜
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚    Stack    â”‚  ì„ì‹œ ë°ì´í„° ì €ì¥
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚     â†•ï¸      â”‚  ì„±ì¥ ë°©í–¥
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚    Heap     â”‚  ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚Uninitializedâ”‚  ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ë°ì´í„°
       â”‚    Data     â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ Initialized â”‚  ì´ˆê¸°í™”ëœ ì „ì—­ ë³€ìˆ˜
       â”‚    Data     â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚    Text     â”‚  ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œ
ì €ì£¼ì†Œ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” í”„ë¡œì„¸ìŠ¤ íƒìƒ‰: ps ëª…ë ¹ì–´

### ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
ps          # í˜„ì¬ í„°ë¯¸ë„ì˜ í”„ë¡œì„¸ìŠ¤ë“¤
ps -a       # ëª¨ë“  ì‚¬ìš©ìì˜ í”„ë¡œì„¸ìŠ¤ë“¤
ps -l       # ìì„¸í•œ ì •ë³´ í‘œì‹œ
```

### ps ì¶œë ¥ ì •ë³´
- **PID**: í”„ë¡œì„¸ìŠ¤ ID
- **PPID**: ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ ID
- **TTY**: ì—°ê²°ëœ í„°ë¯¸ë„
- **TIME**: CPU ì‚¬ìš© ì‹œê°„
- **CMD**: ì‹¤í–‰ ì¤‘ì¸ ëª…ë ¹ì–´
- **S**: í”„ë¡œì„¸ìŠ¤ ìƒíƒœ (S=sleeping, R=running, T=stopped)

---

## ğŸš Shellì˜ ì—­í• ê³¼ ê¸°ëŠ¥

### Shellì´ë€?
```
Shell = ìš´ì˜ì²´ì œ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
```

### Shellì˜ 3ê°€ì§€ í•µì‹¬ ê¸°ëŠ¥

#### 1. í”„ë¡œê·¸ë¨ ì‹¤í–‰ (Program Execution)
- ì‚¬ìš©ì ëª…ë ¹ì–´ í•´ì„
- í”„ë¡œê·¸ë¨ì„ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ì—¬ ì‹¤í–‰
- í”„ë¡œê·¸ë¨ ëŸ°ì²˜ ì—­í• 

#### 2. ì…ì¶œë ¥ ê´€ë¦¬ (I/O Management)
```bash
ls > output.txt     # ì¶œë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜
cat < input.txt     # ì…ë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜
ls | grep ".c"      # íŒŒì´í”„ë¥¼ í†µí•œ í”„ë¡œì„¸ìŠ¤ ì—°ê²°
```

#### 3. í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤ (Programmable Interface)
```bash
# ë³€ìˆ˜ì™€ ì œì–´ êµ¬ì¡° ì‚¬ìš© ê°€ëŠ¥
for i in {1..5}; do
    echo "Count: $i"
done
```

---

## âš™ï¸ Shellì˜ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ê³¼ì •

### Shellì˜ ë©”ì¸ ë£¨í”„
```c
while (!end_of_input) {
    get_command();      // ëª…ë ¹ì–´ ì…ë ¥ ë°›ê¸°
    execute_command();  // ëª…ë ¹ì–´ ì‹¤í–‰
    wait_for_finish();  // ì™„ë£Œê¹Œì§€ ëŒ€ê¸°
}
```

### ì‹¤í–‰ ê³¼ì • ìƒì„¸
```
1. ì‚¬ìš©ìê°€ ëª…ë ¹ì–´ ì…ë ¥ (ì˜ˆ: ls -l)
2. Shellì´ ìƒˆ í”„ë¡œì„¸ìŠ¤ ìƒì„± (fork)
3. ìƒˆ í”„ë¡œì„¸ìŠ¤ì— í”„ë¡œê·¸ë¨ ë¡œë“œ (exec)
4. Shellì´ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œê¹Œì§€ ëŒ€ê¸° (wait)
5. ë‹¤ìŒ ëª…ë ¹ì–´ ëŒ€ê¸°
```

---

## ğŸ”§ í•µì‹¬ ì‹œìŠ¤í…œ ì½œë“¤

### 1. execvp() - í”„ë¡œê·¸ë¨ ì‹¤í–‰

#### ê¸°ëŠ¥
- í˜„ì¬ í”„ë¡œì„¸ìŠ¤ ì´ë¯¸ì§€ë¥¼ ìƒˆ í”„ë¡œê·¸ë¨ìœ¼ë¡œ **ì™„ì „ êµì²´**
- ì„±ê³µí•˜ë©´ ì›ë˜ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ëŒì•„ì˜¤ì§€ ì•ŠìŒ

#### ì‚¬ìš©ë²•
```c
char *arglist[] = {"ls", "-l", NULL};
execvp("ls", arglist);
// ì´ ë¼ì¸ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ (ì„±ê³µì‹œ)
printf("execvp failed\n");
```

#### ëª…ë ¹í–‰ ì¸ìˆ˜ ì „ë‹¬
```c
// "necho hello world" ëª…ë ¹ì–´ì˜ ê²½ìš°
argc = 3
argv[0] = "necho"
argv[1] = "hello" 
argv[2] = "world"
argv[3] = NULL     // ë°˜ë“œì‹œ NULLë¡œ ì¢…ë£Œ
```

### 2. fork() - í”„ë¡œì„¸ìŠ¤ ìƒì„±

#### ê¸°ëŠ¥
- í˜¸ì¶œ í”„ë¡œì„¸ìŠ¤ì˜ **ê±°ì˜ ì™„ì „í•œ ë³µì‚¬ë³¸** ìƒì„±
- ë¶€ëª¨ì™€ ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ **ë™ì¼í•œ ì½”ë“œ** ì‹¤í–‰
- **ë¶„ë¦¬ëœ ë©”ëª¨ë¦¬ ê³µê°„** ì‚¬ìš©

#### ë°˜í™˜ê°’ì˜ íŠ¹ì§•
```c
pid_t fork_result = fork();

if (fork_result == -1) {
    // ì—ëŸ¬ ë°œìƒ
    perror("fork failed");
} else if (fork_result == 0) {
    // ìì‹ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰
    printf("I am child, PID: %d\n", getpid());
} else {
    // ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰
    printf("I am parent, child PID: %d\n", fork_result);
}
```

#### fork() í›„ í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
```
ì‹¤í–‰ ì „:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Parent    â”‚
â”‚    PID: A   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‹¤í–‰ í›„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Parent    â”‚    â”‚    Child    â”‚
â”‚    PID: A   â”‚    â”‚    PID: B   â”‚
â”‚   return: B â”‚    â”‚   return: 0 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. wait() - ìì‹ í”„ë¡œì„¸ìŠ¤ ëŒ€ê¸°

#### ë‘ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥
1. **ë™ê¸°í™”**: ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ëë‚  ë•Œê¹Œì§€ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ ì¼ì‹œ ì •ì§€
2. **í†µì‹ **: ìì‹ì˜ ì¢…ë£Œ ìƒíƒœ ì •ë³´ ìˆ˜ì§‘

#### ì‚¬ìš©ë²•
```c
int status;
pid_t child_pid = wait(&status);

printf("Child %d finished\n", child_pid);
printf("Exit status: %d\n", WEXITSTATUS(status));
```

#### ìì‹ ìƒíƒœ ì •ë³´ í•´ì„
```
16ë¹„íŠ¸ ìƒíƒœ ì •ë³´:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Exit Codeâ”‚Signal #â”‚Core Dumpâ”‚
â”‚ (8ë¹„íŠ¸) â”‚ (7ë¹„íŠ¸) â”‚ (1ë¹„íŠ¸) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. exit() vs _exit() - í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

#### exit() ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜
```c
exit(status);  // ì •ë¦¬ ì‘ì—… í›„ ì¢…ë£Œ
```
1. ëª¨ë“  ìŠ¤íŠ¸ë¦¼ ë²„í¼ flush
2. atexit() ë“±ë¡ í•¨ìˆ˜ë“¤ ì‹¤í–‰
3. ê¸°íƒ€ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰
4. _exit() ì‹œìŠ¤í…œ ì½œ í˜¸ì¶œ

#### _exit() ì‹œìŠ¤í…œ ì½œ
```c
_exit(status);  // ì¦‰ì‹œ ì¢…ë£Œ
```
- ëª¨ë“  íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ë‹«ê¸°
- ë©”ëª¨ë¦¬ í•´ì œ
- ì»¤ë„ ë°ì´í„° êµ¬ì¡° ì •ë¦¬
- ë¶€ëª¨ì—ê²Œ SIGCHLD ì‹ í˜¸ ì „ì†¡

---

## ğŸ’» Shell êµ¬í˜„ ì‹¤ìŠµ

### ì²« ë²ˆì§¸ Shell: psh1.c
```c
// ê°„ë‹¨í•œ ë‹¨ì¼ ëª…ë ¹ ì‹¤í–‰ ì‰˜
int main() {
    char *arglist[MAXARGS+1];
    int numargs = 0;
    char argbuf[ARGLEN];
    char *makestring();
    
    numargs = 0;
    while (numargs < MAXARGS) {
        printf("Arg[%d]? ", numargs);
        if (fgets(argbuf, ARGLEN, stdin) && *argbuf != '\n') {
            arglist[numargs++] = makestring(argbuf);
        } else {
            if (numargs > 0) {
                arglist[numargs] = NULL;
                execute(arglist);
                numargs = 0;
            }
        }
    }
    return 0;
}
```

### ë‘ ë²ˆì§¸ Shell: psh2.c (ê°œì„ ëœ ë²„ì „)
```c
void execute(char *arglist[]) {
    int pid, exitstatus;
    
    pid = fork();  // ìƒˆ í”„ë¡œì„¸ìŠ¤ ìƒì„±
    
    switch(pid) {
        case -1:
            perror("fork failed");
            exit(1);
            
        case 0:  // ìì‹ í”„ë¡œì„¸ìŠ¤
            execvp(arglist[0], arglist);
            perror("execvp failed");
            exit(1);
            
        default:  // ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤
            while(wait(&exitstatus) != pid)
                ;  // ìì‹ ì™„ë£Œê¹Œì§€ ëŒ€ê¸°
            printf("child exited with status %d\n", 
                   exitstatus>>8);
    }
}
```

### Shell ë™ì‘ íë¦„ë„
```
Shell Process              Child Process
     â”‚                           â”‚
     â”œâ”€â”€â”€â”€ fork() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ (ìƒˆ í”„ë¡œì„¸ìŠ¤ ìƒì„±)
     â”‚                           â”‚
     â”œâ”€â”€â”€â”€ wait() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
     â”‚ (ëŒ€ê¸° ìƒíƒœ)           â”‚     â”œâ”€â”€â”€â”€ execvp() â”€â”€â”€â”€â†’ Program
     â”‚                      â”‚     â”‚ (í”„ë¡œê·¸ë¨ ì‹¤í–‰)
     â”‚                      â”‚     â”‚
     â”‚                      â”‚     â”œâ”€â”€â”€â”€ main() â”€â”€â”€â”€â”€â”€â”€â†’ Logic
     â”‚                      â”‚     â”‚ (í”„ë¡œê·¸ë¨ ë¡œì§)
     â”‚                      â”‚     â”‚
     â”‚                      â”‚     â””â”€â”€â”€â”€ exit() â”€â”€â”€â”€â”€â”€â”€â”€â†’ Terminate
     â”‚                      â”‚           (í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ)
     â”‚ â†â”€â”€â”€â”€â”€â”€â”€ ì™„ë£Œ â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ (ëŒ€ê¸° í•´ì œ)
     â””â”€â”€â”€â”€ ë‹¤ìŒ ëª…ë ¹ ëŒ€ê¸°
```

---

## ğŸš¨ íŠ¹ìˆ˜í•œ ìƒí™©ë“¤

### ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ (Zombie Process)
```
ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ = exit()ëŠ” í˜¸ì¶œí–ˆì§€ë§Œ ë¶€ëª¨ê°€ wait()í•˜ì§€ ì•Šì€ í”„ë¡œì„¸ìŠ¤
```
- **defunct** í”„ë¡œì„¸ìŠ¤ë¼ê³ ë„ ë¶ˆë¦¼
- ì»¤ë„ì— ì¢…ë£Œ ìƒíƒœ ì •ë³´ê°€ ë‚¨ì•„ìˆìŒ
- ë¶€ëª¨ê°€ wait() í˜¸ì¶œì‹œ ì™„ì „íˆ ì œê±°ë¨
- ë©”ëª¨ë¦¬ëŠ” í•´ì œë˜ì—ˆì§€ë§Œ í”„ë¡œì„¸ìŠ¤ í…Œì´ë¸” ì—”íŠ¸ë¦¬ëŠ” ìœ ì§€

### ì‹ í˜¸ ì²˜ë¦¬ (Signal Handling)
- **Ctrl+C**: SIGINT ì‹ í˜¸ â†’ í„°ë¯¸ë„ì˜ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì— ì „ì†¡
- **SIGCHLD**: ìì‹ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œì‹œ ë¶€ëª¨ì—ê²Œ ì „ì†¡ (ê¸°ë³¸ì ìœ¼ë¡œ ë¬´ì‹œë¨)

### ê³ ì•„ í”„ë¡œì„¸ìŠ¤ (Orphan Process)
- ë¶€ëª¨ê°€ ìì‹ë³´ë‹¤ ë¨¼ì € ì¢…ë£Œëœ ê²½ìš°
- **init í”„ë¡œì„¸ìŠ¤**(PID 1)ê°€ ìƒˆë¡œìš´ ë¶€ëª¨ê°€ ë¨
- ê³„ì† ì‹¤í–‰ ê°€ëŠ¥

---

## ğŸ“‹ ì¤‘ìš” ê°œë… ì •ë¦¬

### í”„ë¡œì„¸ìŠ¤ ê´€ë ¨ ê°œë…

| ê°œë… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **PID** | Process ID, ê° í”„ë¡œì„¸ìŠ¤ì˜ ê³ ìœ  ì‹ë³„ì | 1234 |
| **PPID** | Parent Process ID, ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì˜ PID | 1000 |
| **í”„ë¡œì„¸ìŠ¤ ìƒíƒœ** | í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ ìƒíƒœ | R(ì‹¤í–‰ì¤‘), S(ëŒ€ê¸°), T(ì •ì§€) |
| **ì‚¬ìš©ì ê³µê°„** | í”„ë¡œê·¸ë¨ê³¼ ë°ì´í„°ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ ì˜ì—­ | vs ì»¤ë„ ê³µê°„ |

### ì‹œìŠ¤í…œ ì½œ ë¹„êµ

| ì‹œìŠ¤í…œ ì½œ | ëª©ì  | ë°˜í™˜ê°’ | íŠ¹ì§• |
|-----------|------|--------|------|
| **fork()** | í”„ë¡œì„¸ìŠ¤ ë³µì œ | ë¶€ëª¨: ìì‹PID, ìì‹: 0 | ë©”ëª¨ë¦¬ ê³µê°„ ë³µì‚¬ |
| **execvp()** | í”„ë¡œê·¸ë¨ ì‹¤í–‰ | ì‹¤íŒ¨ì‹œ -1 | í”„ë¡œì„¸ìŠ¤ ì´ë¯¸ì§€ êµì²´ |
| **wait()** | ìì‹ ëŒ€ê¸° | ìì‹ PID | ë™ê¸°í™” + ìƒíƒœ ìˆ˜ì§‘ |
| **exit()** | í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ | ì—†ìŒ | ì •ë¦¬ í›„ ì¢…ë£Œ |

### Shell vs ì¼ë°˜ í”„ë¡œê·¸ë¨

| íŠ¹ì§• | Shell | ì¼ë°˜ í”„ë¡œê·¸ë¨ |
|------|-------|---------------|
| **ì‹¤í–‰ ë°©ì‹** | ì—°ì†ì  ë£¨í”„ | ë‹¨ì¼ ì‹¤í–‰ í›„ ì¢…ë£Œ |
| **ì‚¬ìš©ì ì…ë ¥** | ëª…ë ¹ì–´ ëŒ€ê¸° | í”„ë¡œê·¸ë¨ ë‚´ ì²˜ë¦¬ |
| **í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬** | ìì‹ í”„ë¡œì„¸ìŠ¤ ìƒì„±/ê´€ë¦¬ | ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ |
| **I/O ì²˜ë¦¬** | ë¦¬ë‹¤ì´ë ‰ì…˜, íŒŒì´í”„ | í‘œì¤€ I/O |

---

## ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸

### 1. Shellì˜ ë³¸ì§ˆ
> **Shell = í”„ë¡œì„¸ìŠ¤ì™€ í”„ë¡œê·¸ë¨ì„ ê´€ë¦¬í•˜ëŠ” íŠ¹ë³„í•œ í”„ë¡œê·¸ë¨**
- ì‚¬ìš©ìì™€ ìš´ì˜ì²´ì œ ê°„ì˜ ì¤‘ê°œì ì—­í• 
- fork â†’ exec â†’ wait íŒ¨í„´ì˜ ë°˜ë³µ

### 2. í”„ë¡œì„¸ìŠ¤ ìƒì„±ì˜ Unix ì² í•™
> **"ì‘ì€ í”„ë¡œê·¸ë¨ë“¤ì˜ ì¡°í•©ìœ¼ë¡œ ë³µì¡í•œ ì‘ì—… ìˆ˜í–‰"**
- ê° í”„ë¡œê·¸ë¨ì€ ë‹¨ì¼ ì‘ì—…ì— íŠ¹í™”
- íŒŒì´í”„ì™€ ë¦¬ë‹¤ì´ë ‰ì…˜ì„ í†µí•œ ì—°ê²°

### 3. ë©”ëª¨ë¦¬ ë³´í˜¸
> **ê° í”„ë¡œì„¸ìŠ¤ëŠ” ë…ë¦½ëœ ë©”ëª¨ë¦¬ ê³µê°„ ì‚¬ìš©**
- í”„ë¡œì„¸ìŠ¤ ê°„ ê°„ì„­ ë°©ì§€
- ì‹œìŠ¤í…œ ì•ˆì •ì„± ë³´ì¥

### 4. ë™ê¸°í™”ì˜ ì¤‘ìš”ì„±
> **ë¶€ëª¨-ìì‹ í”„ë¡œì„¸ìŠ¤ ê°„ ì ì ˆí•œ ë™ê¸°í™” í•„ìš”**
- wait() ì—†ì´ëŠ” ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ ë°œìƒ
- ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜ ë°©ì§€

---

## ğŸ”¬ ì‹¤ìŠµ ì˜ˆì œ

### ê°„ë‹¨í•œ ëª…ë ¹ì–´ ì‹¤í–‰ê¸°
```c
#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>

int main() {
    pid_t pid = fork();
    
    if (pid == 0) {
        // ìì‹: ls -l ì‹¤í–‰
        execlp("ls", "ls", "-l", NULL);
        perror("exec failed");
        return 1;
    } else {
        // ë¶€ëª¨: ìì‹ ì™„ë£Œ ëŒ€ê¸°
        int status;
        wait(&status);
        printf("Child finished with status: %d\n", 
               WEXITSTATUS(status));
    }
    
    return 0;
}
```

### ë‹¤ì¤‘ ìì‹ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
```c
#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>

int main() {
    int num_children = 3;
    
    // ì—¬ëŸ¬ ìì‹ í”„ë¡œì„¸ìŠ¤ ìƒì„±
    for (int i = 0; i < num_children; i++) {
        if (fork() == 0) {
            printf("Child %d (PID: %d) working...\n", i, getpid());
            sleep(i + 1);  // ë‹¤ë¥¸ ì‹œê°„ë§Œí¼ ì‘ì—…
            printf("Child %d finished\n", i);
            return i;  // ê°ê¸° ë‹¤ë¥¸ ì¢…ë£Œ ì½”ë“œ
        }
    }
    
    // ëª¨ë“  ìì‹ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ ëŒ€ê¸°
    for (int i = 0; i < num_children; i++) {
        int status;
        pid_t child_pid = wait(&status);
        printf("Child PID %d exited with status %d\n", 
               child_pid, WEXITSTATUS(status));
    }
    
    return 0;
}
```

---

ì´ ë‚´ìš©ë“¤ì€ Unix/Linux ì‹œìŠ¤í…œì˜ **í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬**ì™€ **Shell êµ¬í˜„**ì˜ í•µì‹¬ ì›ë¦¬ë¥¼ ë‹¤ë£¨ë©°, í˜„ëŒ€ ìš´ì˜ì²´ì œì˜ ê¸°ë³¸ ì² í•™ì„ ì´í•´í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•œ ê°œë…ë“¤ì…ë‹ˆë‹¤.
